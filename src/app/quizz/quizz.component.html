<div class="text-center container mt-5">
  <main class="form-signin">
    <div><i class="fab fa-quinscape fa-5x text-warning"></i></div>
    <h1 class="h3 my-5 fw-normal text-success">Ajouter des Quizz</h1>
    <!-- formgroup quizz -->
    <form [formGroup]="quizz" (ngSubmit)="add()">
      <!--formcontrol titre  -->
      <div class="form-floating my-3">
        <input
          type="text"
          class="form-control"
          placeholder=""
          formControlName="titre"
        />
        <div
          *ngIf="quizz.controls.titre.invalid && quizz.controls.titre.touched"
        >
          <small
            *ngIf="quizz.controls.titre.errors?.required"
            class="text-danger text-start"
            >titre required</small
          >
        </div>
        <label for="floatingInput">Titre de Quizz</label>
      </div>

      <div class="form-floating my-3">
        <input
          type="text"
          class="form-control"
          placeholder=""
          formControlName="question"
        />
        <div
          *ngIf="
            quizz.controls.question.invalid && quizz.controls.question.touched
          "
        >
          <small
            *ngIf="quizz.controls.question.errors?.required"
            class="text-danger text-start"
            >question required</small
          >
        </div>
        <label for="floatingInput">question de Quizz</label>
      </div>
      <!-- formcontrol bonne reponse-->
      <h2 *ngIf="quizz.controls.bonnereponse.value !== null" class="text-start">
        La bonne reponse est :{{
          getOneReponse(quizz.controls.bonnereponse.value)
        }}
      </h2>
      <!-- formarray reponse -->
      <div>
        <button
          class="btn btn-primary w-100"
          type="button"
          (click)="addReponse()"
        >
          ajouter reponse
        </button>
        <div
          class="form-floating my-3"
          formArrayName="reponses"
          *ngFor="let reponse of reponses.controls; let i = index"
        >
          <div class="input-group">
            <div class="input-group-text">
              <input
                class="form-check-input mt-0"
                type="radio"
                aria-label="Radio button for following text
            input"
                name="reponse"
                (change)="bonneReponse(i)"
                [disabled]="reponses.at(i).invalid"
              />
            </div>
            <input
              type="text"
              class="form-control"
              aria-label="Text input with radio button"
              [formControlName]="i"
              placeholder="Reponse {{ i + 1 }}"
            />
            <button
              class="btn btn-danger w-25"
              type="button"
              (click)="supprimerReponse(i)"
            >
              delete
            </button>
          </div>
          <div *ngIf="reponses.at(i).invalid && reponses.at(i).touched">
            <small
              *ngIf="reponses.at(i).errors?.required"
              class="text-danger text-start"
              >reponse required</small
            >
          </div>
        </div>
      </div>
      <!-- button quizz -->
      <hr class="my-4" />
      <button
        class="w-100 btn btn-lg btn-primary"
        type="submit"
        [disabled]="quizz.invalid"
      >
        Ajouter quizz
      </button>
    </form>
  </main>
</div>
